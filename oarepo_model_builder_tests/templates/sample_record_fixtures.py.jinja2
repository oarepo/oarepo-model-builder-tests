from {{ current_model.record_class|package_name }} import {{ current_model.record_class|base_name }}

@pytest.fixture(scope="function")
def sample_record(app, db, sample_metadata_list):
    # return record
    with UnitOfWork(db.session) as uow:
        record = {{ current_model.record_class|base_name }}.create(sample_metadata_list[0])
        uow.register(RecordCommitOp(record, current_service.indexer, True))
        uow.commit()
        return record

@pytest.fixture(scope="function")
def sample_records(app, db, sample_metadata_list):
    with UnitOfWork(db.session) as uow:
        records = []
        for sample_metadata in sample_metadata_list:
            record = {{ current_model.record_class|base_name }}.create(sample_metadata)
            uow.register(RecordCommitOp(record, current_service.indexer, True))
            records.append(record)
        uow.commit()
        return records
